{
    "version": "1.0",
    "description": "Skill activation triggers for Claude Code. Controls when skills automatically suggest or block actions.",
    "skills": {
        "skill-developer": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Meta-skill for creating and managing Claude Code skills",
            "promptTriggers": {
                "keywords": [
                    "skill system",
                    "create skill",
                    "add skill",
                    "skill triggers",
                    "skill rules",
                    "hook system",
                    "skill development",
                    "skill-rules.json"
                ],
                "intentPatterns": [
                    "(how do|how does|explain).*?skill",
                    "(create|add|modify|build).*?skill",
                    "skill.*?(work|trigger|activate|system)"
                ]
            }
        },
        "python-fastapi-guidelines": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Backend development patterns for Python/FastAPI with Pydantic validation",
            "promptTriggers": {
                "keywords": [
                    "backend",
                    "backend development",
                    "microservice",
                    "route",
                    "routing",
                    "fastapi",
                    "API",
                    "endpoint",
                    "middleware",
                    "validation",
                    "pydantic",
                    "async",
                    "await",
                    "dependency injection",
                    "configuration",
                    "router",
                    "APIRouter",
                    "depends"
                ],
                "intentPatterns": [
                    "(create|add|implement|build).*?(route|endpoint|API|router)",
                    "(fix|handle|debug).*?(error|exception|backend)",
                    "(add|implement).*?(middleware|validation|error.*?handling)",
                    "(organize|structure|refactor).*?(backend|service|API)",
                    "(how to|best practice).*?(backend|route|fastapi|pydantic)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "packages/core/src/gam_api/**/*.py",
                    "packages/shared/src/gam_shared/**/*.py",
                    "packages/sdk/src/gam_sdk/**/*.py",
                    "applications/api-server/**/*.py",
                    "applications/mcp-server/**/*.py",
                    "scripts/**/*.py",
                    "**/routes/**/*.py",
                    "**/adapters/**/*.py",
                    "**/builders/**/*.py"
                ],
                "pathExclusions": [
                    "**/*_test.py",
                    "**/test_*.py",
                    "tests/**/*.py",
                    "**/__pycache__/**",
                    "**/*.pyc"
                ],
                "contentPatterns": [
                    "from fastapi import",
                    "APIRouter\\(",
                    "@router\\.(get|post|put|delete|patch)",
                    "@app\\.(get|post|put|delete|patch)",
                    "class.*\\(BaseModel\\):",
                    "async def.*\\(.*\\):"
                ]
            }
        },
        "route-tester": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Testing API routes with FastAPI TestClient, pytest, and httpx. Use when testing endpoints, validating route functionality, debugging API responses, or setting up integration tests. Covers API key authentication, async testing, fixtures, and testing patterns for GAM API routes.",
            "promptTriggers": {
                "keywords": [
                    "test route",
                    "test endpoint",
                    "test API",
                    "route testing",
                    "API testing",
                    "pytest",
                    "TestClient",
                    "httpx",
                    "async test",
                    "integration test",
                    "test fixture",
                    "API key testing",
                    "test with auth"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?(route|endpoint|API)",
                    "(how to|how do I).*?test.*?(route|endpoint|API)",
                    "(write|create|add).*?test.*?(route|endpoint|API)",
                    "test.*?(authenticated|auth|API.*?key)",
                    "(pytest|TestClient|httpx).*?(test|testing)",
                    "integration.*?test"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/routes/**/*.py",
                    "**/test_*.py",
                    "**/*_test.py",
                    "tests/**/*.py",
                    "**/conftest.py"
                ],
                "contentPatterns": [
                    "@router\\.(get|post|put|delete|patch)",
                    "@app\\.(get|post|put|delete|patch)",
                    "from fastapi.testclient import TestClient",
                    "from httpx import AsyncClient",
                    "@pytest\\.fixture",
                    "@pytest\\.mark"
                ]
            }
        },
        "error-tracking": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Sentry error tracking and performance monitoring patterns",
            "promptTriggers": {
                "keywords": [
                    "error handling",
                    "exception",
                    "sentry",
                    "error tracking",
                    "captureException",
                    "monitoring",
                    "performance tracking"
                ],
                "intentPatterns": [
                    "(add|create|implement|setup).*?(error handling|sentry|error tracking)",
                    "(fix|handle|catch).*?(error|exception)",
                    "(how to|best practice).*?(error|sentry|monitoring)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/sentry*.py",
                    "**/*_service.py",
                    "**/routes/**/*.py",
                    "applications/**/*.py"
                ],
                "contentPatterns": [
                    "import sentry_sdk",
                    "sentry_sdk\\.",
                    "capture_exception",
                    "capture_message"
                ]
            }
        },
        "brainstorming": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use when creating or developing anything, before writing code or implementation plans - refines rough ideas into fully-formed designs through structured Socratic questioning, alternative exploration, and incremental validation",
            "promptTriggers": {
                "keywords": [
                    "brainstorm",
                    "idea",
                    "design",
                    "approach",
                    "before we start",
                    "before implementing",
                    "what's the best way",
                    "how should I",
                    "help me design",
                    "help me plan",
                    "think through",
                    "explore options",
                    "alternatives"
                ],
                "intentPatterns": [
                    "(before|first).*(implement|code|build|start)",
                    "(help me|how to|best way).*(design|approach|architect)",
                    "(should I|what if).*(implement|build|create)",
                    "brainstorm.*?(feature|design|approach|solution)",
                    "(explore|consider).*?(option|alternative|approach)",
                    "(think through|work through).*?(design|idea|solution)"
                ]
            }
        },
        "gam-api-reports": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Google Ad Manager report generation module for Python. Covers 5 report types (delivery, inventory, sales, reach, programmatic), report dimensions and metrics, report creation and execution, filtering and date ranges, report data manipulation, and MCP report tools (gam_quick_report, gam_create_report, gam_run_report, gam_list_reports).",
            "promptTriggers": {
                "keywords": [
                    "GAM report",
                    "GAM reports",
                    "delivery report",
                    "inventory report",
                    "sales report",
                    "reach report",
                    "programmatic report",
                    "report generation",
                    "generate report",
                    "create report",
                    "custom report",
                    "quick report",
                    "gam_quick_report",
                    "gam_create_report",
                    "gam_run_report",
                    "gam_list_reports",
                    "report dimensions",
                    "report metrics",
                    "report filters",
                    "date range",
                    "ReportGenerator",
                    "ReportDefinition",
                    "impressions",
                    "clicks",
                    "CTR",
                    "fill rate",
                    "revenue",
                    "eCPM",
                    "unique reach",
                    "frequency",
                    "ad requests"
                ],
                "intentPatterns": [
                    "(generate|create|build|run).*?report",
                    "(delivery|inventory|sales|reach|programmatic).*?report",
                    "report.*(dimension|metric|filter)",
                    "(how to|how do I).*(generate|create).*?report",
                    "custom.*?report.*(dimension|metric)",
                    "filter.*?report.*(date|dimension|metric)",
                    "(export|download|save).*?report",
                    "(quick|predefined).*?report",
                    "report.*?(timeout|slow|empty|issue)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "packages/core/src/gam_api/reports.py",
                    "packages/core/src/gam_api/models.py",
                    "packages/core/src/gam_api/adapters/rest/analytics.py",
                    "applications/mcp-server/tools/reports.py",
                    "applications/api-server/routes/reports.py",
                    "tests/**/test_reports.py",
                    "tests/**/test_report_*.py"
                ],
                "pathExclusions": [
                    "**/__pycache__/**",
                    "**/*.pyc",
                    "**/auth.py",
                    "**/client.py",
                    "googleads.yaml",
                    "generate_new_token.py"
                ],
                "contentPatterns": [
                    "ReportGenerator\\(",
                    "gam_quick_report",
                    "gam_create_report",
                    "gam_run_report",
                    "gam_list_reports",
                    "generate_quick_report",
                    "create_custom_report",
                    "quick_report\\(",
                    "delivery.*?report",
                    "inventory.*?report",
                    "sales.*?report",
                    "reach.*?report",
                    "programmatic.*?report",
                    "class.*?ReportDefinition",
                    "class.*?ReportResult",
                    "DateRange\\.",
                    "report.*?dimensions",
                    "report.*?metrics"
                ]
            }
        },
        "fastmcp-development": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Comprehensive guide for building MCP servers with FastMCP 2.0. Use when creating MCP tools, resources, prompts, implementing authentication (JWT, OAuth, BearerAuthProvider), deploying to Cloud Run, working with MCP context, server composition, or building AI assistant integrations.",
            "promptTriggers": {
                "keywords": [
                    "fastmcp",
                    "FastMCP",
                    "MCP server",
                    "MCP tool",
                    "mcp.tool",
                    "@mcp.tool",
                    "MCP resource",
                    "MCP prompt",
                    "MCP context",
                    "BearerAuthProvider",
                    "RSAKeyPair",
                    "MCP authentication",
                    "MCP deployment",
                    "MCP transport",
                    "stdio transport",
                    "http transport",
                    "server composition",
                    "mcp.run",
                    "Model Context Protocol",
                    "AI assistant integration",
                    "Claude Desktop MCP"
                ],
                "intentPatterns": [
                    "(create|build|implement|add).*?(MCP|mcp).*?(server|tool|resource)",
                    "(how to|how do I).*?(MCP|fastmcp|FastMCP)",
                    "(deploy|run).*?(MCP|mcp).*?(server|cloud)",
                    "(authenticate|auth|JWT).*?(MCP|mcp)",
                    "(context|middleware|progress).*?(MCP|mcp)",
                    "fastmcp.*?(tool|resource|prompt|server)",
                    "@mcp\\.(tool|resource|prompt)",
                    "(MCP|mcp).*?(best practice|pattern|example)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "applications/mcp-server/**/*.py",
                    "**/mcp_server.py",
                    "**/fastmcp_server.py",
                    "**/mcp/**/*.py"
                ],
                "pathExclusions": [
                    "**/__pycache__/**",
                    "**/*.pyc",
                    "tests/**/*.py"
                ],
                "contentPatterns": [
                    "from fastmcp import",
                    "FastMCP\\(",
                    "@mcp\\.tool",
                    "@mcp\\.resource",
                    "@mcp\\.prompt",
                    "BearerAuthProvider",
                    "RSAKeyPair",
                    "mcp\\.run\\(",
                    "Context.*?ctx"
                ]
            }
        }
    },
    "notes": {
        "enforcement_types": {
            "suggest": "Skill suggestion appears but doesn't block execution",
            "block": "Requires skill to be used before proceeding (guardrail)",
            "warn": "Shows warning but allows proceeding"
        },
        "priority_levels": {
            "critical": "Highest - Always trigger when matched",
            "high": "Important - Trigger for most matches",
            "medium": "Moderate - Trigger for clear matches",
            "low": "Optional - Trigger only for explicit matches"
        },
        "customization": {
            "pathPatterns": "Customized for Python monorepo: packages/core, packages/shared, applications/api-server, applications/mcp-server",
            "keywords": "Python/FastAPI specific: pydantic, async/await, APIRouter, Depends",
            "intentPatterns": "Use regex for flexible user intent matching",
            "tech_stack": "Python 3.8+, FastAPI, Pydantic, Google Ad Manager API"
        }
    }
}
